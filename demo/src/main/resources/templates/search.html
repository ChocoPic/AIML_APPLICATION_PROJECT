<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:list-style="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>검색하기</title>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.2.0/css/all.min.css" integrity="sha512-6c4nX2tn5KbzeBJo9Ywpa0Gkt+mzCzJBrE1RB6fmpcsoN+b/w/euwIMuQKNyUoU/nToKN3a8SgNOtPrbW12fug==" crossorigin="anonymous">
</head>
<style>
    @import url('https://cdn.rawgit.com/innks/NanumSquareRound/master/nanumsquareround.min.css');
    @import url(http://fonts.googleapis.com/earlyaccess/notosanskr.css);

    body {
        font-family: 'Noto Sans KR', sans-serif;
    }
    </style>
<body>
<nav class="navbar">
    <div class="container-fluid m-2 text-end">
        <button type="button" class="btn-close" aria-label="Close"></button>
    </div>
</nav>

<!--- 검색창 -->
<section class="mt-5 mb-5">
    <form id="form-search" action="/search" method="get" class="search-bar m-3">
        <label>검색어를 입력하세요</label>
        <div><input type="text" class="input" name="text"></div>
    </form>
</section>

<!-- 필터 -->
<section class="m-3" >
    <label>키워드를 선택하세요</label>
    <div class="filter-wrapper d-flex flex-wrap">
        <div class="filter">
            <input type="checkbox" class="btn-check" id="check1" autocomplete="off">
            <label class="btn btn-outline-secondary" for="check1">조용함</label>
        </div>
        <div class="filter">
            <input type="checkbox" class="btn-check" id="check2" autocomplete="off">
            <label class="btn btn-outline-secondary" for="check2">공부하기좋은분위기</label>
        </div>
        <div class="filter">
            <input type="checkbox" class="btn-check" id="check3" autocomplete="off">
            <label class="btn btn-outline-secondary" for="check3">콘센트</label>
        </div>
        <div class="filter">
            <input type="checkbox" class="btn-check" id="check4" autocomplete="off">
            <label class="btn btn-outline-secondary" for="check4">자리편함</label>
        </div>
        <div class="filter">
            <input type="checkbox" class="btn-check" id="check5" autocomplete="off">
            <label class="btn btn-outline-secondary" for="check5">공간넓음</label>
        </div>
        <div class="filter">
            <input type="checkbox" class="btn-check" id="check6" autocomplete="off">
            <label class="btn btn-outline-secondary" for="check6">맛있는메뉴</label>
        </div>
    </div>
</section>
<div class="mt-5">
    <button class="btn btn-secondary mt-5 ms-3">검색</button>
</div>

<br>
필터입력값 : <input type="text" id="showFilter"/> <!--필터확인용, 기능과 무관함 -->

<script>

    var ageArr = new Array(); //필터 내용을 저장하는 배열
    var showFilterValue = document.getElementById("showFilter");//필터입력값 보여주기 위한 text

    //필터 내용을 저장하는 function
    function makeFilter(target){

        var ageVal = target.value; //check value
        var confirmCheck = target.checked; //check여부 확인
        console.log("필터 선택값 : "+ageVal);
        console.log("선택여부 : "+confirmCheck);

        // check true
        if(confirmCheck == true){

            console.log("check");
            ageArr.push(ageVal); // check value filter 배열에 입력

        // check false
        }else{

            ageArr.splice(ageArr.indexOf(ageVal), 1); // check value filter 배열내용 삭제
        }

        showFilterValue.value = ageArr; // textBox에 필터 배열 추가
        console.log("필터입력값 출력 : "+ageArr);

    }
/*
1) value
markeFilter(this)를 통해서 선택된 객체를 불러오고

이를 target으로 받아와, target.value를 활용해 선택된 checkbox의 value를 받아옵니다.

2) checked
markeFilter(this)를 통해서 선택된 객체를 불러오고

이를 target으로 받아와, target.checked를 활용해 선택된 checkbox의 check 여부를 받아옵니다.

3) push
배열을 생성한 후 배열에 값을 입력할 때 사용하는 함수입니다.

배열명.push(입력값) 의 형태로 사용하실 수 있습니다.

4)splice
배열의 특정 요소를 삭제하는 용도로 사용됩니다.

배열명.splice(삭제하고싶은 요소의 index, 삭제하고자하는 갯수)

5) indexOf
특정값의 index를 구하는 용도로 사용됩니다.

예를들어서 ageArr = ["10", "20", "30", "40", "50", "60"]

이라면, indexOf(30)이라면, 2를 출력하게됩니다.
*/
   </script>

<style>
    input {
      width: 100%;
      max-width: 500px;
      border-left:0;
      border-right:0;
      border-top:0;
      border-bottom: 1px solid #bbb;
      padding: 10px 12px;
      font-size: 14px;
    }
    .filter{
        margin-top: 5px;
        margin-right: 5px;
    }
    .btn-outline-secondary{
        border-radius : 30px;
        font-size: 14px;
    }
</style>
</body>
</html>